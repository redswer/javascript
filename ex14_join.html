<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>** Join Form **</title>
    <script src="./ex.14_inCheck.js"></script>
    <style>
        .eMessage {
            color: red;
            font-size: x-small;
            font-style: italic;
        }
    </style>
    <script>
        let iCheck = false;
        let pCheck = false;
        let p2Check = false;
        let nCheck = false;
        let aCheck = false;
        let bCheck = false;
        let oCheck = false;

        onload = function () {
            document.getElementById('id').addEventListener('keydown'
                , (e) => {
                    if (e.which == 13) {
                        e.preventDefault();
                        document.getElementById('password').focus();
                    }
                });

            document.getElementById('id').addEventListener('focusout', () => { iCheck = idCheck(); });
            document.getElementById('password').addEventListener('focusout', () => { pCheck = pwCheck(); });
            document.getElementById('password2').addEventListener('focusout', () => { p2Check = pw2Check(); });
            document.getElementById('name').addEventListener('focusout', () => { nCheck = nameCheck(); });
            document.getElementById('age').addEventListener('focusout', () => { aCheck = ageCheck(); });
            document.getElementById('birthday').addEventListener('focusout', () => { bCheck = bdCheck(); });
            document.getElementById('point').addEventListener('focusout', () => { oCheck = poCheck(); });
        }

        function inCheck() {
            if (iCheck == false) { document.getElementById('iMessage').innerHTML = '필수입력, id 는 4~10 글자 입니다.'; }
            if (pCheck == false) { document.getElementById('pMessage').innerHTML = '필수입력, Password 입력 하세요.'; }
            if (p2Check == false) { document.getElementById('p2Message').innerHTML = '필수입력, Password 확인'; }
            if (nCheck == false) { document.getElementById('nMessage').innerHTML = '필수입력, Name 입력 하세요.'; }
            if (aCheck == false) { document.getElementById('aMessage').innerHTML = '필수입력, Age 입력 하세요.'; }
            if (bCheck == false) { document.getElementById('bMessage').innerHTML = '필수입력, Brthday 입력 하세요.'; }
            if (oCheck == false) { document.getElementById('oMessage').innerHTML = '필수입력, Point 입력 하세요.'; }

            if (iCheck && pCheck && p2Check && nCheck && aCheck && bCheck && oCheck) {
                if (confirm('정말 가입하십니까 ? (Yes:확인 / No:취소)')) {
                    return true;
                } else {
                    alert('가입이 취소 되었습니다.');
                    return false;
                }

            } else {
                return false;
            }
        }

    </script>
</head>

<body>
    <h2>** Student Join Form **</h2>
    <form action="green/join" method="post">
        <table width="80%">
            <tr height="40">
                <th bgcolor="aqua">I D</th>
                <td><input type="text" id="id" name="id" placeholder="영문, 숫자 10자 이내"><br>
                    <span id="iMessage" class="eMessage"></span>
                </td>
            </tr>
            <tr height="40">
                <th bgcolor="aqua">Password</th>
                <td><input type="password" id="password" name="password" placeholder="특수문자 반드시포함"><br>
                    <span id="pMessage" class="eMessage"></span>
                </td>
            </tr>
            <tr height="40">
                <th bgcolor="aqua">Pw 확인</th>
                <td><input type="password" id="password2" placeholder="재입력 확인"><br>
                    <span id="p2Message" class="eMessage"></span>
                </td>
            </tr>
            <tr height="40">
                <th bgcolor="aqua">Name</th>
                <td><input type="text" id="name"><br>
                    <span id="nMessage" class="eMessage"></span>
                </td>
            </tr>
            <tr height="40">
                <th bgcolor="aqua">Age</th>
                <td><input type="text" id="age"><br>
                    <span id="aMessage" class="eMessage"></span>
                </td>
            </tr>
            <tr height="40">
                <th bgcolor="aqua">Birthday</th>
                <td><input type="date" id="birthday"><br>
                    <span id="bMessage" class="eMessage"></span>
                </td>
            </tr>
            <tr height="40">
                <th bgcolor="aqua">Jo</th>
                <td><select id="jo">
                        <option value="1">1조: 119조</option>
                        <option value="2">2조: 여우조</option>
                        <option value="3">3조: i4조</option>
                        <option value="4">4조: 최고조</option>
                        <option value="5">5조: 오조</option>
                    </select></td>
            </tr>
            <tr height="40">
                <th bgcolor="aqua">Point</th>
                <td><input type="text" id="point"><br>
                    <span id="oMessage" class="eMessage"></span>
                </td>
            </tr>
            <tr height="40">
                <th bgcolor="aqua">Info</th>
                <td><input type="text" id="info" placeholder="팀 프로젝트 소개"></td>
            </tr>

            <tr height="40">
                <td colspan="2" align="center">
                    <input type="submit" value="가입" onclick="return inCheck()"> &nbsp;&nbsp;
                    <input type="reset" value="취소">
                </td>
            </tr>
        </table>
    </form>





</body>

</html>