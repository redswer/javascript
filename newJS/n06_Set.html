<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Collection Set</title>
    <script>
        // 1. array
        // 문자열의 중복을 허용하지 않는 배열 정의하기 (조원들의 이름)

        // 1) 배열 정의
        let names = [];
        // = let names = new Array();

        // 2) 중복 확인 (함수로 만들기)
        /* 매개변수 text 로 전달된 값을 배열 names 의 요소들과 비교해서
            동일한 값이 없으면 return true, 있으면 return false */
        const unique = (text) => {
            for (let name of names) {
                if (text == name) {
                    return false;
                }
            }
            return true;
        }
        // 3) 배열에 자료 담기
        let str = ['이성룡', '양세현', '안진혁', '김해림', '이성룡', '안진혁'];

        for (let name of str) {
            // 중복검사 후 담기
            if (unique(name) == true) { names.push(name) }
        }

        for (let name of names) {
            console.log(`name : ${name}`);
        }

        console.log(`names.length : ${names.length}`);

        console.log('');

        // 2. set
        // str 을 mySet 에 담기
        // set 의 매서드 : add, delete, has, size

        // * set 생성과 동시에 초기화
        // let mySet = new Set(str);

        // for (let name of mySet) {
        //     console.log(`name : ${name}`);
        // }

        // console.log(`mySet.size : ${mySet.size}`);

        let mySet = new Set();

        for (let n of str) { mySet.add(n) }

        for (name of mySet) {
            console.log(`name : ${name}`);
        }
        console.log(`mySet.has : ${mySet.has('안진혁')}`);
        console.log(`mySet.size : ${mySet.size}`);
        console.log(`mySet 출력 : ${mySet}`);
        console.log('');

        mySet.delete('안진혁');
        mySet.delete('홍길동');     // 없는 값을 delete 하는 경우에는 error 없이 통과함

        for (name of mySet) {
            console.log(`name : ${name}`);
        }

        console.log(`mySet.has : ${mySet.has('안진혁')}`);
        console.log(`mySet.size : ${mySet.size}`);
        console.log(`mySet 출력 : ${mySet}`);
        console.log('');

        // 3. set 매서드 체이닝 
        // 처리 후 set type 을 return 하는 매서드는 계속 . 으로 연결해서 사용 가능 / 마찬가지로 중복은 출력되지 않음
        mySet.add('홍길동').add('김길동').add('이길동').add('홍길동');
        for (name of mySet) {
            console.log(name);
        }
        console.log('');

        // 단, delete, has 매서드는 boolean 을 return 하기 때문에 중간에 사용 불가능 (마지막에 한번만 가능)
        mySet.add('홍길동').add('김길동').add('이길동').delete('이길동');
        for (name of mySet) {
            console.log(name);
        }

        // 4. forEach (함수)
        mySet.forEach(function (v1, v2) {
            console.log(`forEach (함수) : ${v1}, ${v2}`);
        });
    </script>
</head>

<body>
    <pre>
        <h3>** 새로 추가된 컬렉션(collections) Set **</h3>
        => Set은 중복을 허용하지 않는 데이터(value) 들의 집합.
        => Set은 수정 가능하며, 프로그램이 실행되는 동안 값의 추가나 삭제 가능함.
          ( delete 성공시 true 를 반환하고 실패시 false 를 반환 )
        
        ** Set과 Array 의 차이점 **
        => 값이 중복되지 않습니다 ( 중복값은 저장하지 않음 )
          const mySet = new Set("abcd");
          mySet.size; // 4
          mySet.add("a");
          mySet.size; // 4
        
        => 데이터 확인이 편리하고 빠름.
          const mySet = new Set("abcd");
          const myArray = [..."abcd"];
            
          myArray.indexOf("a") !== -1 // true slow
          mySet.has("a")              // true fast   
          
        => Set은 인덱스 값으로 데이터 조회는 불가능
          myArray[0]; // "a"
          mySet[0];   // undefined
        </pre>
</body>

</html>