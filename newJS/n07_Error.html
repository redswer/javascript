<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>** Error 처리 **</title>
    <script>
        // try ~ catch ~ finally
        // 1. 적용하지 않은 경우
        console.log(`Test1 Start`);
        // foo();      // 비 정상적으로 종료됨 (foo is no defined)
        console.log(`Test1 End`);
        console.log('');

        // 2. 적용한 경우
        console.log(`Test2 Start`);

        try {
            foo();
            console.log(`Try : 여기는 try 영역`);
            // 위에서 존재하지 않는 함수를 불러왔기 때문에 오류 발생하여 console.log는 출력되지 않음
            // foo(); 를 주석 처리하면 정상적으로 출력됨

        } catch (error) {
            // error : try 코드 블록에서 발생한 error 객체가 전달됨
            console.log(`Error 발생 : ${error}`);

        } finally {
            console.log(`Finally : 무조건 실행`);
        }

        console.log(`Test2 End`);
        console.log('');

        //3. error 생성하기
        console.log('Test3 Start');

        let age = 200;

        try {
            console.log(`Try : 여기는 try 영역`);
            // 위에서 존재하지 않는 함수를 불러왔기 때문에 오류 발생하여 console.log는 출력되지 않음
            // foo(); 를 주석 처리하면 정상적으로 출력됨

            if (age >= 200) {
                // 오류 상황 : error 객체 생성 & 던져줌 (throw) -> catch 블럭으로
                throw new Error('** Error 발생');
            }

        } catch (error) {
            // error : try 코드 블록에서 발생한 error 객체가 전달됨
            console.log(`Error 발생 : ${error}`);

        } finally {
            console.log(`Finally : 무조건 실행`);
        }

        console.log('Test3 End');
    </script>
</head>

<body>
    <h2>Error 처리</h2>
    => try ~ catch ~ finally <br>
    => Error 생성하기 <br>
</body>

</html>